# =============================================================================
# codergrounds - Environment Variables Example
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control (it's in .gitignore)
#
# Usage: cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------

# Node environment: development, production, or test
NODE_ENV="development"

# Server port number
PORT=3000

# Logging level: fatal, error, warn, info, debug, trace, silent
# Use "debug" for development, "info" for production
LOG_LEVEL="debug"

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------

# PostgreSQL database name
POSTGRES_DB="codergrounds"

# PostgreSQL username
POSTGRES_USER="codergroundsadmin"

# PostgreSQL password
POSTGRES_PASSWORD="password"

# Optional: PostgreSQL host (defaults to localhost if not set)
POSTGRES_HOST="localhost"

# Optional: PostgreSQL port (defaults to 5432 if not set)
POSTGRES_PORT=5432

# Full PostgreSQL connection URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example: postgresql://codergroundsadmin:password@localhost:5432/codergrounds
DATABASE_URL="postgresql://codergroundsadmin:password@localhost:5432/codergrounds"

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------

# Optional: Redis host (defaults to localhost if not set)
REDIS_HOST="localhost"

# Optional: Redis port (defaults to 6379 if not set)
REDIS_PORT=6379

# Redis password (required if Redis has password protection)
REDIS_PASSWORD="password"

# Full Redis connection URL
# Format: redis://:PASSWORD@HOST:PORT
# Example: redis://:password@localhost:6379
REDIS_URL="redis://:password@localhost:6379"

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------

# JWT Access Token Secret (use a strong random string in production)
# Generate with: openssl rand -base64 32
JWT_ACCESS_TOKEN_SECRET="your-access-token-secret-change-in-production"

# JWT Refresh Token Secret (use a different strong random string)
# Generate with: openssl rand -base64 32
JWT_REFRESH_TOKEN_SECRET="your-refresh-token-secret-change-in-production"

# JWT Access Token expiration time (e.g., "15m", "1h", "7d")
JWT_ACCESS_TOKEN_EXPIRY="15m"

# JWT Refresh Token expiration time (e.g., "7d", "30d")
JWT_REFRESH_TOKEN_EXPIRY="7d"

# Bcrypt salt rounds for password hashing (10-12 recommended)
BCRYPT_SALT_ROUNDS=10

# -----------------------------------------------------------------------------
# Code Execution (Judge0 API)
# -----------------------------------------------------------------------------

# Judge0 API base URL
# For self-hosted: http://localhost:2358
# For cloud: https://judge0-ce.p.rapidapi.com
JUDGE0_API_URL="http://localhost:2358"

# Judge0 API authentication token (if required)
# Leave empty if using self-hosted without auth
JUDGE0_API_TOKEN=""

# Judge0 API key (for RapidAPI cloud version)
# Leave empty if using self-hosted
JUDGE0_RAPIDAPI_KEY=""

# Judge0 API host (for RapidAPI cloud version)
# Leave empty if using self-hosted
JUDGE0_RAPIDAPI_HOST="judge0-ce.p.rapidapi.com"

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------

# Allowed CORS origins (comma-separated)
# For development: http://localhost:3000,http://localhost:5173
# For production: https://yourdomain.com
CORS_ORIGIN="http://localhost:3000,http://localhost:5173"

# -----------------------------------------------------------------------------
# Room Configuration
# -----------------------------------------------------------------------------

# Default maximum participants per PLAYGROUND
PLAYGROUND_MAX_PARTICIPANTS=8

# PLAYGROUND expiration time in hours (default: 24 hours)
PLAYGROUND_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# Optional: Monitoring & Observability
# -----------------------------------------------------------------------------

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=""

# Application name for logging
APP_NAME="codergrounds-server"

# -----------------------------------------------------------------------------
# Development Only
# -----------------------------------------------------------------------------

# Enable API documentation (Swagger) in development
# Set to "true" to enable /api-docs endpoint
ENABLE_SWAGGER="false"