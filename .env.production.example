# =============================================================================
# CODERGROUNDS - Production Environment Variables
# =============================================================================
# Copy this file to .env on your PRODUCTION VPS (not in git!)
#
# Location: ~/projects/codergrounds/.env
# Usage: cp .env.production.example .env && nano .env
#
# IMPORTANT: Fill in REAL, STRONG values for all *_PASSWORD and *_SECRET fields!
# Generate secrets with: openssl rand -base64 32
# =============================================================================

# -----------------------------------------------------------------------------
# Infrastructure (Used by docker-compose.prod.yml)
# -----------------------------------------------------------------------------

# PostgreSQL
POSTGRES_DB=codergrounds
POSTGRES_USER=codergroundsadmin
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Redis
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Backend exposed port (on the host)
BACKEND_PORT=4000

# -----------------------------------------------------------------------------
# Application Configuration (Passed to Backend Container)
# -----------------------------------------------------------------------------

NODE_ENV=production
PORT=4000
LOG_LEVEL=info
APP_NAME=codergrounds-server

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------

# Generate these with: openssl rand -base64 32
JWT_ACCESS_TOKEN_SECRET=GENERATE_WITH_openssl_rand_-base64_32
JWT_REFRESH_TOKEN_SECRET=GENERATE_DIFFERENT_WITH_openssl_rand_-base64_32
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
BCRYPT_SALT_ROUNDS=12

# -----------------------------------------------------------------------------
# OAuth Credentials
# -----------------------------------------------------------------------------

# GitHub OAuth (get from https://github.com/settings/developers)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=https://yourdomain.com/api/v1/auth/github/callback

# Google OAuth (get from https://console.cloud.google.com/)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=https://yourdomain.com/api/v1/auth/google/callback

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------

# Your frontend domain(s) - comma-separated
CORS_ORIGIN=https://yourdomain.com

# -----------------------------------------------------------------------------
# Code Execution (Judge0) - Configure when you set up Judge0
# -----------------------------------------------------------------------------

JUDGE0_API_URL=http://judge0:2358
JUDGE0_API_TOKEN=

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Playground Configuration
# -----------------------------------------------------------------------------

PLAYGROUND_MAX_PARTICIPANTS=8
PLAYGROUND_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# Optional: Monitoring
# -----------------------------------------------------------------------------

# SENTRY_DSN=
ENABLE_SWAGGER=false
